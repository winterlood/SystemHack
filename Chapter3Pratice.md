> 본 문서는 필자 개인의 풀이이지 정답이 아님을 유의 바랍니다.

Q4.
CTR 모드의 암호화를 위한 공식은 다음과 같다.
위 제시된 식 대신 다음식을 사용한다고 가정하자.
---

C(i) = P(i) XOR E (IV + i , K)
대신

C(i) = P(i) XOR E (K , IV + i)
를 사용할 경우 ?!

이 새로운 공식은 결론적으로 안전하지 못하다.

IV가 현재 Key로 작용하고 있지만, 초기화 벡터인 IV는 보안성이 없기 때문에, IV를 알고있는 사람은 

누구나 Key Steam을 생성할 수 있고, 해당 암호문을 해독할 수 있다.


Q12.
어떠한 스트림암호에도 결국은 키스트림이 반복되어야 하는 이유는?
---

Key Stream 생산기는 가능한 내부 상태들의 유한한 수를 가지게 되는데,

내부상태가 한번 반복되게 되면 Key Stream도 반복된다. 그러나 RC4의 경우 내부상태가 매우크기 때문에,

딱히 반복될 일이 없긴하다.

Q13.
DES의 Key비트수는?
---

DES는 56Bit의 Key를 사용하는데,

보조키는 48bit이며,

총 16라운드를 수행하게 된다.

여기서 6bit -> 4bit 로 변환하는 8개의 S-Box를 사용하여 

블록함수에 실제로 적용될 때에는, 키스케쥴에 의해 48bit로 압축되어, 

48bit의 보조키를 생성하게 된다. 그리고,

64bit의 평문 Ri-1 을 Expand한 48bit와 XOR되게 된다.


Q14.
DES는 마지막 회전에서 L과 R을 바꾼다. 이유는?
---

솔직히 진짜 왜바꾸는지는 모르겠다

개인적인 생각으로, 같은 프로그램이 암호화 할 때 사용한것 같이, 

복호화 할때도 그대로 사용할 수 있게 되기 때문인거 같다.

그냥 보조키만 역순으로 쓰면 프로그램을 그대로 쓰면 될거같다 ㅎㅎ


Q16
초기화 벡터는 비밀일 필요가없다. 그러나 이것이 난수일 필요가 있는가? 난수가 아니라면?
---

흠.... 모르겠다...?


Q17
CBC모드가 복사-붙여넣기 공격이 가능함을 보여라.
---
그냥 순서 바꾸면 되지않나??.....

걍 순서를 바까버리자!

Q18
CBC모드로 암호화된 데이터를 임의접근 하는방법은 ?
---
암호블록 C(i), C(i-1)을 안다면, 

임의로 복호화는 가능하다.

복호화는 병렬처리가 가능하기 때문에, 

앞부분 블록 전부를 복호화 할 필요는 전혀 없다.

그러므로 임의접근은 가능하다.

CTR모드와 비교하였을 때의 단점은

평문블록을 바꾸려면 전부 복호화했다가,

바꾸고 처음부터 다시 전부 암호화 해야된다는 점이다....

CTR모드는 Ci에 영향을 받지 않는다. 단순히 IV의값에 영향을 받기때문에,

블록의 위치 자체가 이동하는것이 아니면 영향을 받지 않는다.


Q19
CTR 모드는 블록암호를 이용하여, 키스트림을 생성한다, 블록암호를 이용하여 스트림암호를 만드는 또 다른 방식은?
---

???

Q20
키 k를 이용하여 CBC모드로 암호화하고,
K XOR X 를 이용하여 MAC을 계산한다고 가정하자, 여기서 X는 잘알려진 상수이다, 암호문과 MAC은 수신자에게 전송된다
수신자가 복사-붙여넣기 공격을 감지하는 방법을 설명하라
---

CBC모드의 오류는 차후에 나오는 마지막 블록까지 전파된다.

그러므로 복사-붙여넣기 공격이 수행되어, 블록에 변경점이 생겼다면,

MAC은 어떻게되었던 송신자의 것과는 다를것이다.

그러므로 감지 가능하다.

